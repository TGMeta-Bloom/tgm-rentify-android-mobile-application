Index: app/src/main/java/com/example/tgmrentify/repository/LandlordRepository.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.tgmrentify.repository\r\nimport com.example.tgmrentify.model.Property\r\nimport kotlinx.coroutines.delay\r\n\r\n/**\r\n * Placeholder Repository for Landlord Module.\r\n * In the final version, this class will handle Firebase Firestore/Storage calls.\r\n */\r\nclass LandlordRepository {\r\n\r\n    /**\r\n     * Simulates fetching properties belonging ONLY to the logged-in landlord (data isolation).\r\n     */\r\n    suspend fun getLandlordProperties(landlordId: String): List<Property> {\r\n        // Simulate network/database latency\r\n        delay(1000)\r\n\r\n        // Return static mock data for the frontend demo\r\n        return listOf(\r\n            Property(\r\n                propertyId = \"P001\",\r\n                landlordId = landlordId,\r\n                title = \"Modern City Apartment\",\r\n                location = \"Colombo 03\",\r\n                rentAmount = 120000.0,\r\n                imageUrls = listOf(\"https://picsum.photos/id/1/200/300\")\r\n            ),\r\n            Property(\r\n                propertyId = \"P002\",\r\n                landlordId = landlordId,\r\n                title = \"Family House\",\r\n                location = \"Kaduwela\",\r\n                rentAmount = 65000.0,\r\n                imageUrls = listOf(\"https://picsum.photos/id/10/200/300\")\r\n            ),\r\n            Property(\r\n                propertyId = \"P003\",\r\n                landlordId = landlordId,\r\n                title = \"Studio near University\",\r\n                location = \"Nugegoda\",\r\n                rentAmount = 35000.0,\r\n                imageUrls = listOf(\"https://picsum.photos/id/20/200/300\")\r\n            ),\r\n                    Property(\r\n                        propertyId = \"P004\",\r\n                        landlordId = landlordId,\r\n                        title = \"Modern Annex\",\r\n                        location = \"Matara\",\r\n                        rentAmount = 35000.0,\r\n                        imageUrls = listOf(\"https://picsum.photos/id/20/200/300\")\r\n                    ),\r\n            Property(\r\n                propertyId = \"P004\",\r\n                landlordId = landlordId,\r\n                title = \"villa near University\",\r\n                location = \"Akuressa\",\r\n                rentAmount = 35000.0,\r\n                imageUrls = listOf(\"https://picsum.photos/id/20/200/300\")\r\n            )\r\n        )\r\n    }\r\n}
===================================================================
diff --git a/app/src/main/java/com/example/tgmrentify/repository/LandlordRepository.kt b/app/src/main/java/com/example/tgmrentify/repository/LandlordRepository.kt
--- a/app/src/main/java/com/example/tgmrentify/repository/LandlordRepository.kt	(revision de3cd25764d00457711480c7448ff345a38f5bca)
+++ b/app/src/main/java/com/example/tgmrentify/repository/LandlordRepository.kt	(date 1765388817950)
@@ -1,5 +1,4 @@
 package com.example.tgmrentify.repository
-import com.example.tgmrentify.model.Property
 import kotlinx.coroutines.delay
 
 /**
Index: app/src/main/java/com/example/tgmrentify/view/LandlordPropertyDetailsFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.tgmrentify.view\r\n\r\nimport android.os.Bundle\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.fragment.app.Fragment\r\nimport androidx.navigation.fragment.findNavController\r\nimport androidx.navigation.fragment.navArgs\r\nimport com.bumptech.glide.Glide\r\nimport com.example.tgmrentify.R\r\nimport com.example.tgmrentify.databinding.FragmentLandlordPropertyDetailsBinding\r\nimport com.example.tgmrentify.model.Property\r\nimport com.google.android.material.snackbar.Snackbar\r\n\r\nclass LandlordPropertyDetailsFragment : Fragment() {\r\n\r\n    private var _binding: FragmentLandlordPropertyDetailsBinding? = null\r\n    private val binding get() = _binding!!\r\n    \r\n    // Argument to receive the passed Property object\r\n    private val args: LandlordPropertyDetailsFragmentArgs by navArgs()\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        _binding = FragmentLandlordPropertyDetailsBinding.inflate(inflater, container, false)\r\n        return binding.root\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n        val property = args.property\r\n        setupUI(property)\r\n        setupListeners()\r\n    }\r\n    \r\n    private fun setupUI(property: Property) {\r\n        // Bind data to UI elements\r\n        binding.textDetailTitle.text = property.title\r\n        binding.textDetailDescription.text = property.description\r\n        binding.textDetailLocation.text = property.location\r\n        // Use string resource with placeholder\r\n        binding.textDetailPrice.text = getString(R.string.price_format, property.rentAmount.toString())\r\n        binding.textDetailType.text = property.propertyType\r\n        binding.textDetailStatus.text = property.status\r\n        binding.textDetailContact.text = property.contactNumber\r\n        \r\n        // Load Image\r\n         Glide.with(this)\r\n            .load(property.imageUrls.firstOrNull())\r\n            .placeholder(R.drawable.ic_property_image2) // Default\r\n            .error(R.drawable.ic_property_image2)\r\n            .into(binding.imagePropertyDetail)\r\n    }\r\n\r\n    private fun setupListeners() {\r\n        // Ensure the ID matches your XML (btn_back)\r\n        binding.btnBack.setOnClickListener {\r\n            // navigateUp() goes back to the previous screen in the stack\r\n            findNavController().navigateUp()\r\n        }\r\n\r\n        binding.btnSave.setOnClickListener {\r\n            Snackbar.make(binding.root, \"Property saved\", Snackbar.LENGTH_SHORT).show()\r\n        }\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        super.onDestroyView()\r\n        _binding = null\r\n    }\r\n}
===================================================================
diff --git a/app/src/main/java/com/example/tgmrentify/view/LandlordPropertyDetailsFragment.kt b/app/src/main/java/com/example/tgmrentify/view/LandlordPropertyDetailsFragment.kt
--- a/app/src/main/java/com/example/tgmrentify/view/LandlordPropertyDetailsFragment.kt	(revision de3cd25764d00457711480c7448ff345a38f5bca)
+++ b/app/src/main/java/com/example/tgmrentify/view/LandlordPropertyDetailsFragment.kt	(date 1765388656391)
@@ -10,7 +10,6 @@
 import com.bumptech.glide.Glide
 import com.example.tgmrentify.R
 import com.example.tgmrentify.databinding.FragmentLandlordPropertyDetailsBinding
-import com.example.tgmrentify.model.Property
 import com.google.android.material.snackbar.Snackbar
 
 class LandlordPropertyDetailsFragment : Fragment() {
Index: app/src/main/java/com/example/tgmrentify/view/LandlordMyPropertiesFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.tgmrentify.view\r\n\r\nimport android.os.Bundle\r\nimport android.view.LayoutInflater\r\nimport android.view.ViewGroup\r\nimport android.view.View\r\nimport androidx.fragment.app.Fragment\r\nimport androidx.navigation.fragment.findNavController\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport com.example.tgmrentify.R\r\nimport com.example.tgmrentify.databinding.FragmentLandlordMyPropertiesBinding\r\nimport com.example.tgmrentify.model.Property\r\nimport com.example.tgmrentify.view.adapter.LandlordPropertiesAdapter\r\nimport java.util.UUID\r\n\r\nclass LandlordMyPropertiesFragment : Fragment() {\r\n\r\n    private var _binding: FragmentLandlordMyPropertiesBinding? = null\r\n    private val binding get() = _binding!!\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        _binding = FragmentLandlordMyPropertiesBinding.inflate(inflater, container, false)\r\n        return binding.root\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n        setupRecyclerView()\r\n        setupListeners()\r\n    }\r\n\r\n    private fun setupRecyclerView() {\r\n        // Mock Data\r\n        val properties = listOf(\r\n            Property(\r\n                propertyId = UUID.randomUUID().toString(),\r\n                landlordId = \"user1\",\r\n                title = \"Cozy Apartment in Colombo 7\",\r\n                description = \"3-bedroom apartment with sea view and rooftop gym.\",\r\n                location = \"Colombo\",\r\n                rentAmount = 170000.0,\r\n                propertyType = \"Apartment\",\r\n                contactNumber = \"077-3344556\",\r\n                imageUrls = listOf(\"dummy_url\")\r\n            ),\r\n            Property(\r\n                propertyId = UUID.randomUUID().toString(),\r\n                landlordId = \"user1\",\r\n                title = \"Luxury Villa in Kandy\",\r\n                description = \"Spacious villa with a large garden and pool.\",\r\n                location = \"Kandy\",\r\n                rentAmount = 250000.0,\r\n                propertyType = \"Villa\",\r\n                contactNumber = \"077-1122334\",\r\n                imageUrls = listOf(\"dummy_url_2\")\r\n            ),\r\n            Property(\r\n                propertyId = UUID.randomUUID().toString(),\r\n                landlordId = \"user1\",\r\n                title = \"Modern House in Galle\",\r\n                description = \"Beautiful house near the fort with historical architecture.\",\r\n                location = \"Galle\",\r\n                rentAmount = 120000.0,\r\n                propertyType = \"House\",\r\n                contactNumber = \"071-9988776\",\r\n                imageUrls = listOf(\"dummy_url_3\")\r\n            )\r\n        )\r\n\r\n        val adapter = LandlordPropertiesAdapter(\r\n            properties,\r\n            onEditClick = { property ->\r\n                // Navigate to Edit Fragment\r\n                findNavController().navigate(R.id.action_LandlordPropertiesFragment_to_LandlordPropertyEditFormFragment)\r\n            },\r\n            onDeleteClick = { property ->\r\n                // Navigate to Delete Confirm Fragment\r\n                findNavController().navigate(R.id.action_LandlordPropertiesFragment_to_LandlordPropertyDeleteConfirmFragment)\r\n            }\r\n        )\r\n\r\n        binding.rvProperties.layoutManager = LinearLayoutManager(requireContext())\r\n        binding.rvProperties.adapter = adapter\r\n    }\r\n\r\n    private fun setupListeners() {\r\n        binding.btnBack.setOnClickListener {\r\n            findNavController().navigateUp()\r\n        }\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        super.onDestroyView()\r\n        _binding = null\r\n    }\r\n}
===================================================================
diff --git a/app/src/main/java/com/example/tgmrentify/view/LandlordMyPropertiesFragment.kt b/app/src/main/java/com/example/tgmrentify/view/LandlordMyPropertiesFragment.kt
--- a/app/src/main/java/com/example/tgmrentify/view/LandlordMyPropertiesFragment.kt	(revision de3cd25764d00457711480c7448ff345a38f5bca)
+++ b/app/src/main/java/com/example/tgmrentify/view/LandlordMyPropertiesFragment.kt	(date 1765388656358)
@@ -9,7 +9,6 @@
 import androidx.recyclerview.widget.LinearLayoutManager
 import com.example.tgmrentify.R
 import com.example.tgmrentify.databinding.FragmentLandlordMyPropertiesBinding
-import com.example.tgmrentify.model.Property
 import com.example.tgmrentify.view.adapter.LandlordPropertiesAdapter
 import java.util.UUID
 
Index: app/src/main/java/com/example/tgmrentify/view/adapter/LandlordGridAdapter.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.tgmrentify.view.adapter\r\n\r\nimport android.view.LayoutInflater\r\nimport android.view.ViewGroup\r\nimport androidx.recyclerview.widget.DiffUtil\r\nimport androidx.recyclerview.widget.ListAdapter\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.bumptech.glide.Glide\r\nimport com.example.tgmrentify.R\r\nimport com.example.tgmrentify.databinding.LandlordItemPropertyGridBinding\r\nimport com.example.tgmrentify.model.Property\r\n\r\nclass LandlordGridAdapter(\r\n    private val onDetailsClick: (Property) -> Unit\r\n) : ListAdapter<Property, LandlordGridAdapter.PropertyViewHolder>(PropertyDiffCallback()) {\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): PropertyViewHolder {\r\n        val binding = LandlordItemPropertyGridBinding.inflate(\r\n            LayoutInflater.from(parent.context),\r\n            parent,\r\n            false\r\n        )\r\n        return PropertyViewHolder(binding)\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: PropertyViewHolder, position: Int) {\r\n        holder.bind(getItem(position))\r\n    }\r\n\r\n    inner class PropertyViewHolder(private val binding: LandlordItemPropertyGridBinding) :\r\n        RecyclerView.ViewHolder(binding.root) {\r\n\r\n        fun bind(property: Property) {\r\n            binding.textPropertyTitle.text = property.title\r\n            binding.textPropertyLocation.text = \"City: ${property.location}\"\r\n\r\n            // Image Loading\r\n            // Use the static image requested by the user\r\n            binding.imageProperty.setImageResource(R.drawable.ic_property_image2)\r\n\r\n            // Glide.with(binding.imageProperty.context)\r\n            //    .load(imageUrl)\r\n            //    .placeholder(R.drawable.ic_add_image_placeholder2) \r\n            //    .error(R.drawable.ic_launcher_foreground) \r\n            //    .centerCrop()\r\n            //    .into(binding.imageProperty)\r\n\r\n            // Handle clicks\r\n            binding.btnDetails.setOnClickListener { onDetailsClick(property) }\r\n            binding.root.setOnClickListener { onDetailsClick(property) }\r\n        }\r\n    }\r\n\r\n    class PropertyDiffCallback : DiffUtil.ItemCallback<Property>() {\r\n        override fun areItemsTheSame(oldItem: Property, newItem: Property): Boolean {\r\n            return oldItem.propertyId == newItem.propertyId\r\n        }\r\n\r\n        override fun areContentsTheSame(oldItem: Property, newItem: Property): Boolean {\r\n            return oldItem == newItem\r\n        }\r\n    }\r\n}
===================================================================
diff --git a/app/src/main/java/com/example/tgmrentify/view/adapter/LandlordGridAdapter.kt b/app/src/main/java/com/example/tgmrentify/view/adapter/LandlordGridAdapter.kt
--- a/app/src/main/java/com/example/tgmrentify/view/adapter/LandlordGridAdapter.kt	(revision de3cd25764d00457711480c7448ff345a38f5bca)
+++ b/app/src/main/java/com/example/tgmrentify/view/adapter/LandlordGridAdapter.kt	(date 1765388656369)
@@ -8,7 +8,6 @@
 import com.bumptech.glide.Glide
 import com.example.tgmrentify.R
 import com.example.tgmrentify.databinding.LandlordItemPropertyGridBinding
-import com.example.tgmrentify.model.Property
 
 class LandlordGridAdapter(
     private val onDetailsClick: (Property) -> Unit
Index: app/src/main/java/com/example/tgmrentify/view/adapter/LandlordPropertiesAdapter.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.tgmrentify.view.adapter\r\n\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.ImageView\r\nimport android.widget.TextView\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.example.tgmrentify.R\r\nimport com.example.tgmrentify.model.Property\r\n\r\nclass LandlordPropertiesAdapter(\r\n    private val properties: List<Property>,\r\n    private val onEditClick: (Property) -> Unit,\r\n    private val onDeleteClick: (Property) -> Unit\r\n) : RecyclerView.Adapter<LandlordPropertiesAdapter.PropertyViewHolder>() {\r\n\r\n    inner class PropertyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n        val ivPropertyImage: ImageView = itemView.findViewById(R.id.iv_property_image)\r\n        val tvTitle: TextView = itemView.findViewById(R.id.tv_property_title)\r\n        val tvDescription: TextView = itemView.findViewById(R.id.tv_property_description)\r\n        val tvLocation: TextView = itemView.findViewById(R.id.tv_property_location)\r\n        val tvPrice: TextView = itemView.findViewById(R.id.tv_property_price)\r\n        val tvType: TextView = itemView.findViewById(R.id.tv_property_type)\r\n        val tvContact: TextView = itemView.findViewById(R.id.tv_contact_number)\r\n        val btnEdit: View = itemView.findViewById(R.id.btn_edit)\r\n        val btnDelete: View = itemView.findViewById(R.id.btn_delete)\r\n    }\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): PropertyViewHolder {\r\n        val view = LayoutInflater.from(parent.context).inflate(R.layout.item_landlord_my_property, parent, false)\r\n        return PropertyViewHolder(view)\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: PropertyViewHolder, position: Int) {\r\n        val property = properties[position]\r\n        \r\n        holder.tvTitle.text = property.title\r\n        holder.tvDescription.text = property.description\r\n        holder.tvLocation.text = property.location\r\n        holder.tvPrice.text = \"Rs. ${property.rentAmount.toInt()}\"\r\n        holder.tvType.text = property.propertyType\r\n        holder.tvContact.text = property.contactNumber\r\n        \r\n        // Load image (Placeholder logic, ideally use Glide)\r\n        // holder.ivPropertyImage.setImageResource(R.drawable.ic_property_image2) \r\n        // Since we have static resources for now, let's just leave the default from XML or cycle them if needed.\r\n        // For simplicity in this step, we rely on the XML default.\r\n        \r\n        holder.btnEdit.setOnClickListener { onEditClick(property) }\r\n        holder.btnDelete.setOnClickListener { onDeleteClick(property) }\r\n    }\r\n\r\n    override fun getItemCount(): Int = properties.size\r\n}
===================================================================
diff --git a/app/src/main/java/com/example/tgmrentify/view/adapter/LandlordPropertiesAdapter.kt b/app/src/main/java/com/example/tgmrentify/view/adapter/LandlordPropertiesAdapter.kt
--- a/app/src/main/java/com/example/tgmrentify/view/adapter/LandlordPropertiesAdapter.kt	(revision de3cd25764d00457711480c7448ff345a38f5bca)
+++ b/app/src/main/java/com/example/tgmrentify/view/adapter/LandlordPropertiesAdapter.kt	(date 1765388656329)
@@ -7,7 +7,6 @@
 import android.widget.TextView
 import androidx.recyclerview.widget.RecyclerView
 import com.example.tgmrentify.R
-import com.example.tgmrentify.model.Property
 
 class LandlordPropertiesAdapter(
     private val properties: List<Property>,
Index: app/src/main/java/com/example/tgmrentify/viewModel/LandlordViewModel.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.tgmrentify.viewModel\r\n\r\nimport androidx.lifecycle.LiveData\r\nimport androidx.lifecycle.MutableLiveData\r\nimport androidx.lifecycle.ViewModel\r\nimport androidx.lifecycle.viewModelScope\r\nimport com.example.tgmrentify.model.Property\r\nimport com.example.tgmrentify.repository.LandlordRepository\r\nimport kotlinx.coroutines.launch\r\n\r\n// Note: For simplicity, we are instantiating the repository directly.\r\n// In a production app, use Dependency Injection (like Hilt/Koin).\r\nclass LandlordViewModel(\r\n    private val repository: LandlordRepository = LandlordRepository()\r\n) : ViewModel() {\r\n\r\n    // LiveData to hold the list of properties for the UI to observe\r\n    private val _properties = MutableLiveData<List<Property>>()\r\n    val properties: LiveData<List<Property>> = _properties\r\n\r\n    // Simulate the ID of the logged-in user\r\n    private val currentLandlordId = \"LANDLORD_123\"\r\n\r\n    init {\r\n        // Automatically load properties when the ViewModel is created\r\n        loadLandlordProperties()\r\n    }\r\n\r\n    fun loadLandlordProperties() {\r\n        viewModelScope.launch {\r\n            try {\r\n                // Fetch data from the repository (simulating Firestore call)\r\n                val propertyList = repository.getLandlordProperties(currentLandlordId)\r\n                _properties.value = propertyList\r\n            } catch (e: Exception) {\r\n                // Handle error (e.g., set an error LiveData)\r\n                e.printStackTrace()\r\n                _properties.value = emptyList()\r\n            }\r\n        }\r\n    }\r\n}
===================================================================
diff --git a/app/src/main/java/com/example/tgmrentify/viewModel/LandlordViewModel.kt b/app/src/main/java/com/example/tgmrentify/viewModel/LandlordViewModel.kt
--- a/app/src/main/java/com/example/tgmrentify/viewModel/LandlordViewModel.kt	(revision de3cd25764d00457711480c7448ff345a38f5bca)
+++ b/app/src/main/java/com/example/tgmrentify/viewModel/LandlordViewModel.kt	(date 1765388656405)
@@ -4,7 +4,6 @@
 import androidx.lifecycle.MutableLiveData
 import androidx.lifecycle.ViewModel
 import androidx.lifecycle.viewModelScope
-import com.example.tgmrentify.model.Property
 import com.example.tgmrentify.repository.LandlordRepository
 import kotlinx.coroutines.launch
 
